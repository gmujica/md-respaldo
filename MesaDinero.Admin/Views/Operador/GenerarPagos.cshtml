@{

}
<link rel="stylesheet" type="text/css" href="~/Content/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="~/Content/css/components/form-base-container/base-input/layout.css">
<link rel="stylesheet" type="text/css" href="~/Content/css/register-auction-container/custom-checkbox.css">
<link rel="stylesheet" type="text/css" href="~/Content/css/auction/auction-box/layout.css">
<link rel="stylesheet" type="text/css" href="~/Content/css/register-auction-container/horizontal-progress-bar.css">
<link rel="stylesheet" type="text/css" href="~/Content/css/components/dashboard-container/bank-form/layout.css">
<link rel="stylesheet" type="text/css" href="~/Content/css/components/dashboard-container/bank-list/layout.css">
<link rel="stylesheet" type="text/css" href="~/Content/css/router/treasury_layout.css">
<link rel="stylesheet" type="text/css" href="~/Content/css/user-area-adjustments.css">

<link rel="stylesheet" type="text/css" href="~/Content/css/popup.css">
<link rel="stylesheet" type="text/css" href="~/Content/css/containers/auction_confirmation_box_layout.css">

<link rel="stylesheet" type="text/css" href="~/Content/css/router/corfid_layout.css">

<style>
    .popup-content {
        width: 650px;
    }

    .main-title {
        text-align: center;
        max-width: 100vw;
    }

    .auction-confirmation-container .select-area {
        width: 498px;
        grid-template-rows: auto auto;
        grid-template-columns: 1fr 1fr;
        row-gap: 3px;
    }

        .auction-confirmation-container .select-area .s-label {
            grid-row: 1 / 2;
            color: var(--btn-blue);
            justify-self: left;
            font-size: 13px;
        }

        .auction-confirmation-container .select-area .custom-select-box {
            grid-row: 2 / 3;
        }

    .auction-confirmation-container .block-text,
    .auction-confirmation-container .exchange-board,
    .auction-confirmation-container .select-area {
        width: 535px;
    }

    .select-area div.custom-select-box > .custom-select-icon {
        background: none !important;
    }

    .auction-confirmation-container .select-area {
        margin: 0 auto 5vh auto;
    }

    .select-area .custom-select-box.custom-select {
        font-size: 13px;
    }
</style>

<!--Instruccion de Pago-->
@Html.Partial("_InstruccionPago")
<!---->
<div class="content-area">
    <div class="complex-dashboard-content">
        @*<div class="dashboard-tabs" style="grid-template-columns: 1fr 1fr 1fr 1fr 1fr;">
            <div><a href="@Url.Action("operacionesconfirmadas", "Operador" )">Operaciones Confirmadas</a></div>
            <div><a href="@Url.Action("verificacionpago", "Operador" )">Verificación de Pago</a></div>
            <div class="active"><a href="@Url.Action("generarpagos", "Operador" )">Generar Pagos</a></div>
            <div><a href="@Url.Action("index", "APartners" )">Adjudicación Partners</a></div>
        </div>*@
        <div class="list-container">
            <div class="operations operations-g">
                <div class="main-header-container">
                    <div class="main-title">Generar Pagos</div>
                    <div class="main-parragraph" data-bind="text:$root.fechaSistema">

                        @*<span data-bind="text:$root.fechaSistema"></span>*@
                    </div>
                </div>
            </div>
            <div class="treasury treasury-c">
                
                @*treasury treasury-c*@
                <select id="combo_banco"  class="custom-select k-choseen" data-bind="options:$root.lstBancos,optionsText:'text',optionsValue:'value',optionsCaption:'Filtrar Banco Destino',value:$data.codigoBanco"></select>
                <select id="combo_moneda" class="custom-select k-choseen" data-bind="options:$root.lstMoneda,optionsText:'text',optionsValue:'value',optionsCaption:'Filtrar Tipo Moneda',value:$data.codigoMoneda"></select>
            

                <dashboard-list>
                    <div style="text-align: center;" data-bind="with:$root.lstVerificarPagos">

                        <table class="k-table k-thover k-trow-pointer">
                            <thead class="k-thead">
                                <tr class="k-throw">
                                    <th>
                                        Enviar<br />
                                        <label class="k-content-radio">
                                            <input type="checkbox" id="idcheckgeneralEnviar" data-bind="event:{change :$root.checkearAllEnviar}" />
                                            <div class="k-radioButtom-icon"></div>
                                        </label>
                                    </th>
                                    <th>
                                        Exportar<br />
                                        <label class="k-content-radio">
                                            <input type="checkbox" id="idcheckgeneral" data-bind="event:{change :$root.checkearAll}" />
                                            <div class="k-radioButtom-icon"></div>
                                        </label>
                                    </th>
                                    <th>ID <br />Transacción</th>
                                    <th>Tipo<br /> Operación</th>
                                    <th>Cliente</th>
                                    @*<th>Acción&nbsp;</th>*@
                                    <th>Moneda&nbsp;</th>
                                    <th>Monto&nbsp;</th>
                                    <th>Banco&nbsp;</th>
                                    @*<th>C. Destino</th>*@
                                   
                                    <th>H. Envio Corfid</th>
                                    @*<th>Archivo</th>*@
                                    <th></th>
                                    <th>&nbsp;Est. Aprob. Corfid</th>
                                </tr>

                            </thead>
                            <tbody class="k-tbody" data-bind="foreach:$data.datasource">
                                <tr data-bind="event:{dblclick :$root.openModal}">
                                    <td>
                                      


                                        <!-- ko if:$data.estadoSubastaCodigo() == 'P' -->
                                        <label class="k-content-radio">
                                            <input type="checkbox" name="idcheck2" data-bind="checked:$data.checkEnviar" />
                                            <div class="k-radioButtom-icon"></div>
                                        </label>
                                        <!-- /ko -->
                                        <!-- ko if:$data.estadoSubastaCodigo() != 'P' -->
                                        <a title="Editar" data-bind=""><i class="glyphicon glyphicon-ok"></i></a>
                                        @*check ok ok-circle*@
                                        <!-- /ko -->
                                    </td>
                                    <td>
                                        <!-- ko if:$data.estadoExportado() == 0 -->
                                        <label class="k-content-radio">
                                            <input type="checkbox" name="idcheck" data-bind="checked:$data.checkPago" />
                                            <div class="k-radioButtom-icon"></div>
                                        </label>
                                        <!-- /ko -->

                                        <!-- ko if:$data.estadoExportado() == 1 -->
                                        <a title="Editar" data-bind="click:$root.descargar"></a>
                                        <a data-bind="attr: { 'href': '@Url.Action("Descargar", "Operador")?trasaccion=' + idTransaccion() }" target="_blank">
                                            <i class="glyphicon glyphicon-file"></i>
                                        </a>

                                        @*save-file  file*@
                                        @*@Html.ActionLink(" ", "Descargar", "Operador", new { trasaccion = 12 }, new { @class = "glyphicon glyphicon-pencil" })*@
                                        <!-- /ko -->

                                       
                                    </td>
                                  
                                    <td><span data-bind="text:$data.formatoTransaccion"></span></td>
                                    <td><span data-bind="text:$data.tipoOperacion"></span></td>
                                    <td><span data-bind="text:$data.usuario"></span></td>
                                    @*<td><span data-bind="text:$data.accion"></span></td>*@
                                    <td><span data-bind="text:$data.tipoMoneda"></span></td>
                                    <td><span data-bind="text:$data.montoFormat"></span></td>
                                    <td><span data-bind="text:$data.bancoDestino"></span></td>
                                    @*<td><span data-bind="text:$data.cuentaDestino"></span></td>*@
                                    
                                    <td><span data-bind="text:$data.hora_Corfid"></span></td>
                                    @*<td><span style="margin-right:5px">Direccion Archivo</span></td>*@
                                    <td>
                                        <div data-bind="attr:{'class' : 'k-icon k-status status_subasta_' + $data.estadoSubastaCodigo() }">
                                        </div>
                                    </td>
                                    <td>
                                        <div data-bind="attr:{'class':'status_'+$data.estadoSubastaCodigo()}" style="margin-left:1px;">
                                            <div data-bind="text:$data.estadoSubasta"></div>
                                        </div>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                        @Html.Partial("_Pagination")


                    </div>
                </dashboard-list>

                @*<div class="button-row">

                        <div class="btn regular" data-bind="click:$root.verificarOperacion"><span class="btn-text">Verificado</span></div>
                        <div class="btn blue-bordered" data-bind="click:$root.observarOperacion"><span class="btn-text">No Encontrado</span></div>
                    </div>*@
                @using (Html.BeginForm("DescargarExportableTXT", "Operador", FormMethod.Post, new { id = "frm", target="_blank" }))
                {
                    @Html.Hidden("transacciones")
                    @Html.Hidden("solicitud")
                    <div class="button-row">
                        <div class="btn regular" data-bind="click:$root.enviarSolicitud"><span class="btn-text">Enviar Solicitud de Pago</span></div>
                        <input class="btn blue-bordered" data-bind="click:$root.exportarTxt" type="button" value="Exportar" />

                        @*<a target="_blank" data-bind="click:$root.exportarTxt"></a>*@

                        @*<div class="btn blue-bordered" ><span class="btn-text">Exportar txt</span></div>*@
                        @*@Html.ActionLink("Exportar", "DescargarExportableTXT") data-bind="click:$root.exportarTxt"*@
                    </div>

                }
             
            </div>
        </div>
    </div>
</div>


@section Scripts {
    <!--Modal-->
    <script src="~/Content/js/select_menu_option.js"></script>
    <script src="~/Content/js/close_popup.js"></script>
    <!---->
    <script src="~/Content/js/app/OperacionGenerarPago.js"></script>
}
