@{

}
<link rel="stylesheet" type="text/css" href="~/Content/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="~/Content/css/components/form-base-container/base-input/layout.css">
<link rel="stylesheet" type="text/css" href="~/Content/css/register-auction-container/custom-checkbox.css">
<link rel="stylesheet" type="text/css" href="~/Content/css/auction/auction-box/layout.css">
<link rel="stylesheet" type="text/css" href="~/Content/css/register-auction-container/horizontal-progress-bar.css">
<link rel="stylesheet" type="text/css" href="~/Content/css/components/dashboard-container/bank-form/layout.css">
<link rel="stylesheet" type="text/css" href="~/Content/css/components/dashboard-container/bank-list/layout.css">
<link rel="stylesheet" type="text/css" href="~/Content/css/router/treasury_layout.css">
<link rel="stylesheet" type="text/css" href="~/Content/css/user-area-adjustments.css">

<link rel="stylesheet" type="text/css" href="~/Content/css/popup.css">
<link rel="stylesheet" type="text/css" href="~/Content/css/containers/auction_confirmation_box_layout.css">

<link rel="stylesheet" type="text/css" href="~/Content/css/router/corfid_layout.css">
<link rel="stylesheet" type="text/css" href="~/Content/css/register-auction-container/layout.css">
<style>
    .k-input {
        outline: none;
        border: none;
        color: var(--main-orange);
        background-color: inherit;
        text-align: center;
        display: block;
        width: 100%;
        font-size: 14px;
    }

    .popup-content {
        width: 650px;
    }

    .main-title {
        text-align: center;
        max-width: 100vw;
    }

    .auction-confirmation-container .select-area {
        width: 498px;
        grid-template-rows: auto auto;
        grid-template-columns: 1fr 1fr;
        row-gap: 3px;
    }

        .auction-confirmation-container .select-area .s-label {
            grid-row: 1 / 2;
            color: var(--btn-blue);
            justify-self: left;
            font-size: 13px;
        }

        .auction-confirmation-container .select-area .custom-select-box {
            grid-row: 2 / 3;
        }

    .auction-confirmation-container .block-text,
    .auction-confirmation-container .exchange-board,
    .auction-confirmation-container .select-area {
        width: 535px;
    }

    .select-area div.custom-select-box > .custom-select-icon {
        background: none !important;
    }

    .auction-confirmation-container .select-area {
        margin: 0 auto 5vh auto;
    }

    .select-area .custom-select-box.custom-select {
        font-size: 13px;
    }
</style>

<!--Instruccion de Pago-->
@Html.Partial("_InstruccionPago")
<!---->
<div class="content-area">
    <div class="complex-dashboard-content">

        <div class="operations operations-g">
            <div class="main-header-container">
                <div class="main-title">Pago de Liquidación</div>
                <div class="main-parragraph" data-bind="text:$root.fechaSistema">

                    @*<span data-bind="text:$root.fechaSistema"></span>*@
                </div>
            </div>
        </div>

        <div class="list-container">
            @using (Html.BeginForm("DescargarLiquidacionExcel", "Operador", FormMethod.Post, new { id = "frm", target = "_blank" }))
            {

                @Html.Hidden("numPartner")
                @Html.Hidden("numLiq")
                @Html.Hidden("estadoLiq")
                @Html.Hidden("tipo")
                <div class="btn blue-bordered" style="width:180px;float:right;margin-right:100px">
                    <span class="btn-text" data-bind="click:$root.exportarTxt">Exportar Excel</span>
                </div>
            }
            <div class="treasury treasury-c">
                <select class="custom-select" data-bind="value:$root.estado">
                    @*<option class="custom-option" value="1">En Aprobacion</option>*@
                    <option class="custom-option" value="9" selected="">Filtrar Estado</option>
                    <option class="custom-option" value="2">Aprobado</option>
                    <option class="custom-option" value="3">Verificacion</option>
                    <option class="custom-option" value="4">Realizado</option>
                </select>
                <input style="width:150px;height:38px;padding-left:10px;margin-left:10px" placeholder="Ingrese Numero Liq" data-bind="value:$root.numeroLiquidar" type="text">
                <dashboard-list>
                    <div style="text-align: center;" data-bind="with:$root.lstliquidacion">

                        <table class="k-table k-thover k-trow-pointer">
                            <thead class="k-thead">
                                <tr class="k-throw">
                                    <th>
                                        <label class="k-content-radio">
                                            <input type="checkbox" id="idcheckgeneralEstado" data-bind="event:{change :$root.checkearAllEstado}" />
                                            <div class="k-radioButtom-icon"></div>
                                        </label>
                                    </th>
                                    <th>Nº Liquid.</th>
                                    <th>ID <br />Transacción</th>
                                    <th>Fecha</th>
                                    @*<th>Partner</th>*@
                                    <th>Cliente</th>
                                    <th>Quiere</th>
                                    <th>Monto USD</th>
                                    <th>T. Cambio</th>
                                    <th>Monto PEN</th>
                                    @*<th>USD Venta</th>
                                        <th>T. Cambio V</th>
                                        <th>PEN Venta</th>*@
                                    @*<th>Usuario Aprob.</th>*@

                                    <th>Voucher</th>
                                    <th></th>
                                    <th>&nbsp;Estado</th>

                                </tr>

                            </thead>
                            <tbody class="k-tbody" data-bind="foreach:$data.datasource">

                                <!-- ko if:$data.estadoNumLiq() == '2' || $data.estadoNumLiq() == '3' || $data.estadoNumLiq() == '4' -->

                                <tr>
                                    <td>


                                        <!-- ko if:$data.estadoNumLiq() == '2' -->
                                        <label class="k-content-radio">
                                            <input type="checkbox" name="idcheck" data-bind="checked:$data.checkEstado" />
                                            <div class="k-radioButtom-icon"></div>
                                        </label>
                                        <!-- /ko -->
                                        <!-- ko if:$data.estadoNumLiq() == '3' || $data.estadoNumLiq() == '4' -->
                                        <a title="Pre Liquidado" data-bind=""><i class="glyphicon glyphicon-ok"></i></a>

                                        <!-- /ko -->


                                    </td>

                                    <td><span data-bind="text:$data.numLiquidacion"></span></td>
                                    <td><span data-bind="text:$data.formatoTransaccion"></span></td>
                                    <td><span data-bind="text:$data.fechaReg"></span></td>
                                    @*<td><span data-bind="text:$data.partnersAdjuntado"></span></td>*@
                                    <td><span data-bind="text:$data.cliente"></span></td>
                                    <td><span data-bind="text:$data.quiere"></span></td>
                                    <td><span data-bind="text:$data.montoUSDText"></span></td>
                                    <td><span data-bind="text:$data.precioPactadoText"></span></td>
                                    <td><span data-bind="text:$data.montoPENText"></span></td>

                                    @*<td><span data-bind="text:$data.montoUSDventaText"></span></td>
                                        <td><span data-bind="text:$data.cambioVentaText"></span></td>
                                        <td><span data-bind="text:$data.montoSolesventaText"></span></td>*@

                                    @*<td><span data-bind="text:$data.usuarioPartnerAp"></span></td>*@

                                    <td>
                                        <!-- ko if:$data.estadoNumLiq() == '2' -->
                                        <input class="k-input" type="text" data-bind="value:$data.numVoucher, event:{keyup : $root.newVoucher}" />
                                        <!-- /ko -->
                                        <!-- ko if:$data.estadoNumLiq() == '3'|| $data.estadoNumLiq() == '4' -->
                                        <span data-bind="text:$data.numVoucher"></span>

                                        <!-- /ko -->
                                    </td>
                                    <td>
                                        <div data-bind="attr:{'class' : 'k-icon k-status status_subasta_' + $data.estadoNumLiq() }">
                                        </div>
                                    </td>
                                    <td>
                                        @*<span data-bind="text:$data.estadoLiquidacion"></span>*@
                                        <div data-bind="attr:{'class':'status_'+$data.estadoNumLiq()}">
                                            <div data-bind="text:$data.estadoLiquidacion"></div>
                                        </div>
                                    </td>
                                    @*data-bind="value:$data.numVoucher"*@

                                </tr>

                                <!-- /ko -->

                            </tbody>
                        </table>
                        @Html.Partial("_Pagination")


                    </div>
                </dashboard-list>
                <div style="display: grid; grid-template-columns: auto auto; grid-template-rows: 1fr; grid-column-gap: 10px;">
                    @*<div>
                            <div class="btn blue-bordered" data-bind="click:$root.addCuenta"><span class="btn-text">+ Agregar</span></div>
                        </div>*@
                    <div>
                        <div id="confirmar_bancos_" data-bind="click:$root.generarLiquidacion" style="width:190px;height:28px;" class="btn regular" style="width: auto !important; height: 100% !important; border: 1px solid transparent !important;">
                            <span class="btn-text">Confirmar Liquidacion</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


@section Scripts {
    <!--Modal-->
    <script src="~/Content/js/select_menu_option.js"></script>
    <script src="~/Content/js/close_popup.js"></script>
    <!---->
    <script src="~/Content/js/app/LiquidacionPagoPartner.js"></script>
}


